// claude-symphony AI Collaboration Configuration
{
  "$schema": "https://raw.githubusercontent.com/znehraks/claude-symphony/main/schemas/ai_collaboration.schema.json",
  "execution_policy": {
    "default_mode": "parallel",
    "stage_classification": {
      "parallel_capable": [
        "01-brainstorm",
        "03-planning",
        "04-ui-ux",
        "07-refactoring",
        "09-testing"
      ],
      "sequential_only": [
        "02-research",
        "05-task-management",
        "06-implementation",
        "08-qa",
        "10-deployment"
      ]
    }
  },
  "consolidation_workflow": {
    "synthesizer": "claudecode",
    "phases": [
      {
        "name": "collect",
        "description": "Gather all parallel model outputs"
      },
      {
        "name": "analyze",
        "description": "Identify commonalities and consensus"
      },
      {
        "name": "evaluate",
        "description": "Compare differences and unique insights"
      },
      {
        "name": "synthesize",
        "description": "Create unified output"
      },
      {
        "name": "validate",
        "description": "Verify completeness and quality"
      }
    ],
    "output": {
      "storage_path": "state/collaborations/",
      "input_pattern": "output_{model}.md",
      "synthesis_log": "synthesis_log.md"
    },
    "quality_threshold": 0.8,
    "quality_threshold_definition": {
      "description": "Defines how synthesis quality is measured",
      "consensus_ratio": {
        "weight": 0.6,
        "description": "Percentage of key points where both models agree",
        "calculation": "count(common_points) / count(total_unique_points)",
        "min_acceptable": 0.5
      },
      "keyword_coverage": {
        "weight": 0.4,
        "description": "Percentage of required keywords present in synthesis",
        "calculation": "count(keywords_found) / count(required_keywords)",
        "min_acceptable": 0.7
      },
      "stage_keywords": {
        "01-brainstorm": [
          "user persona",
          "problem",
          "solution",
          "feature",
          "MVP"
        ],
        "03-planning": [
          "architecture",
          "component",
          "data flow",
          "technology stack",
          "milestone"
        ],
        "04-ui-ux": [
          "wireframe",
          "user flow",
          "design system",
          "accessibility",
          "responsive"
        ],
        "07-refactoring": [
          "complexity",
          "performance",
          "maintainability",
          "test coverage",
          "code smell"
        ],
        "09-testing": [
          "test case",
          "coverage",
          "E2E",
          "unit test",
          "regression"
        ]
      }
    }
  },
  "collaboration_modes": {
    "parallel_execution": {
      "description": "Execute same task with multiple AIs simultaneously and synthesize",
      "enabled": true,
      "stages": {
        "01-brainstorm": {
          "parallel_models": [
            "gemini",
            "claudecode"
          ],
          "synthesizer": "claudecode",
          "output": "ideas.md"
        },
        "03-planning": {
          "parallel_models": [
            "gemini",
            "claudecode"
          ],
          "synthesizer": "claudecode",
          "output": "architecture.md"
        },
        "04-ui-ux": {
          "parallel_models": [
            "gemini",
            "claudecode"
          ],
          "synthesizer": "claudecode",
          "output": "wireframes.md"
        },
        "07-refactoring": {
          "parallel_models": [
            "codex",
            "claudecode"
          ],
          "synthesizer": "claudecode",
          "output": "refactoring_report.md"
        },
        "09-testing": {
          "parallel_models": [
            "codex",
            "claudecode"
          ],
          "synthesizer": "claudecode",
          "output": "tests/"
        }
      },
      "synthesis_criteria": [
        "extract_commonalities",
        "analyze_differences",
        "complementary_integration",
        "quality_filtering"
      ],
      "merge_strategy": {
        "type": "synthesis",
        "synthesizer": "claudecode"
      }
    },
    "sequential_handoff": {
      "description": "Sequential transfer between AIs for progressive result improvement",
      "enabled": true,
      "chains": {
        "code_review": [
          {
            "model": "claude",
            "role": "Draft writing",
            "output": "draft.md"
          },
          {
            "model": "gemini",
            "role": "Creative improvement",
            "output": "improved.md"
          },
          {
            "model": "codex",
            "role": "Technical verification",
            "output": "verified.md"
          }
        ],
        "planning_review": [
          {
            "model": "gemini",
            "role": "Idea divergence",
            "output": "ideas.md"
          },
          {
            "model": "claude",
            "role": "Feasibility analysis",
            "output": "analysis.md"
          },
          {
            "model": "claude",
            "role": "Final plan formulation",
            "output": "plan.md"
          }
        ]
      },
      "handoff_format": {
        "include": [
          "context",
          "key_decisions",
          "modifications",
          "next_instructions"
        ]
      }
    },
    "debate_mode": {
      "description": "AI debate to reach optimal conclusions from diverse perspectives",
      "enabled": true,
      "stages": [
        "03-planning",
        "04-ui-ux"
      ],
      "participants": [
        {
          "model": "claude",
          "role": "advocate",
          "perspective": "Technical feasibility"
        },
        {
          "model": "gemini",
          "role": "challenger",
          "perspective": "Innovative approach"
        }
      ],
      "rules": {
        "rounds": 3,
        "max_tokens_per_turn": 2000,
        "require_evidence": true,
        "convergence_check": true
      },
      "output": {
        "format": "structured_summary",
        "include_dissenting_opinions": true,
        "final_decision_method": "consensus"
      }
    }
  },
  "task_collaboration_mapping": {
    "ideation": {
      "mode": "parallel_execution",
      "models": [
        "gemini",
        "claude"
      ]
    },
    "analysis": {
      "mode": "sequential_handoff",
      "chain": "planning_review"
    },
    "implementation": {
      "mode": null,
      "primary": "claude"
    },
    "review": {
      "mode": "sequential_handoff",
      "chain": "code_review"
    },
    "architecture": {
      "mode": "debate_mode",
      "participants": [
        "claude",
        "gemini"
      ]
    }
  },
  "output_handling": {
    "storage_path": "state/collaborations/",
    "merge_strategies": {
      "best_of_n": {
        "description": "Score-based best result selection",
        "scoring": [
          {
            "metric": "completeness",
            "weight": 0.3
          },
          {
            "metric": "quality",
            "weight": 0.4
          },
          {
            "metric": "creativity",
            "weight": 0.3
          }
        ]
      },
      "consensus": {
        "description": "Extract commonalities + merge differences",
        "conflict_resolution": "human_review"
      },
      "synthesis": {
        "description": "Extract best parts from all results to create new output",
        "synthesizer": "claude"
      }
    }
  },
  "triggers": {
    "auto_collaborate": {
      "on_low_confidence": {
        "threshold": 0.7,
        "action": "parallel_execution"
      },
      "on_complex_task": {
        "complexity_threshold": "high",
        "action": "debate_mode"
      },
      "on_creative_task": {
        "task_types": [
          "brainstorm",
          "design"
        ],
        "action": "parallel_execution"
      }
    }
  },
  "resource_limits": {
    "max_concurrent_models": 2,
    "total_token_budget_per_collaboration": 50000,
    "timeout_per_model": 300,
    "fallback": {
      "on_timeout": "use_partial_results",
      "on_error": "single_model_fallback",
      "primary_fallback": "claude"
    }
  }
}